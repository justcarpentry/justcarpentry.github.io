$(document).ready((function(){var e=Modernizr.mq("(min-width: 768px)");$("#nav").fixTo(".frame"),$('a[rel="external"]').attr("target","_blank"),smoothScroll.init(),gumshoe.init(),$(".portfolio-items").multipleFilterMasonry({itemSelector:".tile",filtersGroupSelector:".filters"}).on("layoutComplete",(function(){gumshoe.setDistances()})),$(".filters input:checkbox").change((function(){$cb=$(this),$cb.is(":checked")?$cb.parent("label").addClass("active"):$cb.parent("label").removeClass("active")})),$(".portfolio-items").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0},mainClass:"mfp-with-zoom",zoom:{enabled:!0,duration:300,easing:"ease-in-out",opener:function(e){return e.is("img")?e:e.find("img")}}}),jQuery.validator.addMethod("phoneUK",(function(e,t){return this.optional(t)||e.length>9&&e.match(/^(((\+44)? ?(\(0\))? ?)|(0))( ?[0-9]{3,4}){3}$/)}),"Please specify a valid Contact number"),$("#contactForm").validate({rules:{email:{require_from_group:[1,".contact-group"]},number:{require_from_group:[1,".contact-group"]}},messages:{email:{require_from_group:"Please provide a means of Contact"},number:{require_from_group:"Please provide a means of Contact"}},submitHandler:function(e){var t=$(e),o=t.find("input,textarea,button"),a=t.serializeArray(),i=!1,n=-1;if($.each(a,(function(e,t){if("fax"==t.name)return""!==t.value&&(i=!0),n=e,!1})),n>-1&&a.splice(n,1),o.prop("disabled",!0),a.push({name:"_subject",value:"New justcarpentry.net Contact Form Enquiry"}),a.push({name:"_format",value:"plain"}),i)t.fadeOut().before('<div class="form-success" style="display: none;"><p>Thanks for your message, I will get back to you soon.</p></div>'),setTimeout((function(){$(".form-success").fadeIn(),gumshoe.setDistances()}),600);else{var s=$.ajax({url:"https://formspree.io/f/xvoynked",type:"post",data:a,dataType:"json"});s.done((function(e){void 0!==e.ok&&!0===e.ok&&(t.fadeOut().before('<div class="form-success" style="display: none;"><p>Thanks for your message, I will get back to you soon.</p></div>'),setTimeout((function(){$(".form-success").fadeIn(),gumshoe.setDistances()}),600))})),s.fail((function(e,t,o){alert("Error submitting form, please try again.")})),s.always((function(){o.prop("disabled",!1)}))}}}),$(window).resize((function(){e&&!Modernizr.mq("(min-width: 768px)")?(e=!1,gumshoe.setDistances()):!e&&Modernizr.mq("(min-width: 768px)")&&(e=!0,gumshoe.setDistances())}))}));